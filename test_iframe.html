<!DOCTYPE html>
<html>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<body>
<!--script src="https://poc-frameout.cs129.force.com/s/lightning/lightning.out.js"></script-->
<h2>TEST page Iframe</h2>
    <p>Pour afficher les données de :</p>
    <p>1/ TOUT LE FOYER "LAMONTAGNE" avec Philippe LAMONTAGNE en client principal -->  persons=['0033O00000IHcKeQAL' , '0033O00000IHbtkQAD' , '0033O00000IHcKfQAL']</p>
    <p>2/ UNIQUEMENT Philippe LAMONTAGE --> persons=['0033O00000IHcKeQAL']</p>
<form name="form1">
  <label for="fposte">Poste:</label>
  <input type="text" id="fposte" name="fposte" value="TEST"><br><br>
  <label for="fpersons">Persons:</label>
  <input style="width:600px;" type="text" id="persons" name="fpersons" value="['0033O00000IHcKeQAL' , '0033O00000IHbtkQAD' , '0033O00000IHcKfQAL']"><br><br>
</form>
  <button onclick="sendparameters()">Envoi des paramètres</button>
<br/>
<iframe id="iframe" src="https://poc-frameout.cs129.force.com/testvisual" height="650" width="1400"></iframe>

<script type="text/javascript">
     
    var lexOrigin = '*';
     
    function sendparameters() {
        var fposte = document.form1.fposte.value;//"TOTO"; //document.form1.fposte.value;
        var fpersons = document.form1.fpersons.value;//"['0033O00000IHcKeQAL' , '0033O00000IHbtkQAD' , '0033O00000IHcKfQAL']"; //document.form1.fpersons.value;

        var message = {
            poste: fposte,
            persons: fpersons
        };
        iframe.contentWindow.postMessage(message, lexOrigin);
    }
     
</script>

</body>
</html>
